(function(e){function t(t){for(var n,o,u=t[0],l=t[1],i=t[2],d=0,b=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);s&&s(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,u=1;u<a.length;u++){var l=a[u];0!==r[l]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},c=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=l;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"13a5":function(e,t,a){},"150b":function(e,t,a){},"352b":function(e,t,a){"use strict";a("f8ce")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function r(e,t,a,r,c,o){var u=Object(n["D"])("Navbar"),l=Object(n["D"])("router-view");return Object(n["w"])(),Object(n["f"])(n["a"],null,[Object(n["i"])(u),Object(n["i"])(l)],64)}var c={class:"left"},o={class:"right"};function u(e,t,a,r,u,l){return Object(n["w"])(),Object(n["f"])("nav",null,[Object(n["g"])("div",c,[Object(n["g"])("button",{onClick:t[0]||(t[0]=function(){return r.backward&&r.backward.apply(r,arguments)})},"<"),Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return r.forward&&r.forward.apply(r,arguments)})},">")]),Object(n["g"])("div",o,[r.store.state.initialState.status.loggedIn?Object(n["e"])("",!0):(Object(n["w"])(),Object(n["f"])("button",{key:0,onClick:t[2]||(t[2]=function(){return r.register&&r.register.apply(r,arguments)})},"Register")),r.store.state.initialState.status.loggedIn?Object(n["e"])("",!0):(Object(n["w"])(),Object(n["f"])("button",{key:1,onClick:t[3]||(t[3]=function(){return r.login&&r.login.apply(r,arguments)})},"Login")),r.store.state.initialState.status.loggedIn?(Object(n["w"])(),Object(n["f"])("button",{key:2,onClick:t[4]||(t[4]=function(){return r.logout&&r.logout.apply(r,arguments)})},"Logout")):Object(n["e"])("",!0)])])}var l=a("1da1"),i=(a("96cf"),a("6c02")),s=function(e){return Object(n["z"])("data-v-24b58b92"),e=e(),Object(n["x"])(),e},d=s((function(){return Object(n["g"])("h1",null,"Gradebook",-1)})),b=Object(n["h"])("Login"),O=Object(n["h"])(),j=Object(n["h"])("Register");function f(e,t,a,r,c,o){var u=Object(n["D"])("router-link");return Object(n["w"])(),Object(n["f"])(n["a"],null,[d,Object(n["g"])("p",null,[Object(n["i"])(u,{to:"/login"},{default:Object(n["K"])((function(){return[b]})),_:1}),O,Object(n["i"])(u,{to:"/register"},{default:Object(n["K"])((function(){return[j]})),_:1})])],64)}var p={name:"Home"},g=(a("f199"),a("6b0d")),h=a.n(g);const v=h()(p,[["render",f],["__scopeId","data-v-24b58b92"]]);var m=v,w=function(e){return Object(n["z"])("data-v-60535f10"),e=e(),Object(n["x"])(),e},y=w((function(){return Object(n["g"])("h1",null,"Login",-1)})),k={class:"center"},_={class:"credential_input"},F={key:0,class:"error"},S={class:"credential_input"},R={key:0,class:"error"},C={key:0,class:"error"},$=w((function(){return Object(n["g"])("button",{type:"submit"},"Login",-1)})),I=Object(n["h"])("Don't have an account? "),L=Object(n["h"])("Register");function x(e,t,a,r,c,o){var u=Object(n["D"])("router-link");return Object(n["w"])(),Object(n["f"])(n["a"],null,[y,Object(n["g"])("div",k,[Object(n["g"])("form",{onSubmit:t[2]||(t[2]=Object(n["M"])((function(e){return r.submit(r.fields)}),["prevent"]))},[Object(n["g"])("div",_,[Object(n["L"])(Object(n["g"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.fields.email=e})},null,512),[[n["I"],r.fields.email]]),r.v.email.$error?(Object(n["w"])(),Object(n["f"])("p",F,Object(n["F"])(r.v.email.$errors[0].$message),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",S,[Object(n["L"])(Object(n["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.fields.password=e})},null,512),[[n["I"],r.fields.password]]),r.v.password.$error?(Object(n["w"])(),Object(n["f"])("p",R,Object(n["F"])(r.v.password.$errors[0].$message),1)):Object(n["e"])("",!0)]),r.error?(Object(n["w"])(),Object(n["f"])("p",C,Object(n["F"])(r.error_msg),1)):Object(n["e"])("",!0),$,Object(n["g"])("p",null,[I,Object(n["i"])(u,{to:"/register"},{default:Object(n["K"])((function(){return[L]})),_:1})])],32)])],64)}a("e9c4");var D=a("a1e9"),T=a("25a0"),V=a("e3e1"),E=(a("81a3"),a("5502")),M=JSON.parse(localStorage.getItem("user")),q=M?{status:{loggedIn:!0},user:M}:{status:{loggedIn:!1},user:null},P=Object(E["a"])({state:{initialState:q},mutations:{loginSuccess:function(e,t){e.initialState.status.loggedIn=!0,e.initialState.user=t},loginFailure:function(e){e.initialState.status.loggedIn=!1,e.initialState.user=null},logout:function(e){e.initialState.status.loggedIn=!1,e.initialState.user=null},register:function(e){e.initialState.status.loggedIn=!1}},actions:{loginSuccess:function(e,t){var a=e.commit;a("loginSuccess",t)},loginFailure:function(e){var t=e.commit;t("loginFailure")},logout:function(e){var t=e.commit;localStorage.removeItem("user"),t("logout")},register:function(e){var t=e.commit;t("register")}},modules:{},getters:{}}),H=a("bc3a"),A=a.n(H),N={name:"Login",setup:function(){var e=Object(D["l"])(!1),t=Object(D["l"])(!1),a=Object(D["l"])(""),n=Object(D["l"])({email:"",password:""}),r=Object(D["c"])((function(){return{email:{required:V["a"].withMessage("Email is required",V["d"])},password:{required:V["a"].withMessage("Password is required",V["d"]),minLength:V["a"].withMessage("Password needs to be at least 6 characters long",Object(V["c"])(6))}}})),c=Object(T["a"])(r,n);function o(n){e.value=!0,c.value.$validate(),c.value.$error||A.a.post("/auth/login",n).then((function(e){console.log(e.data),e.data.accessToken&&(localStorage.setItem("user",JSON.stringify(e.data)),P.dispatch("loginSuccess",e.data),ta.push("/dashboard"))})).catch((function(e){P.dispatch("loginFailure"),console.log(e),t.value=!0,a.value=e.response.data.message}))}return P.state.initialState.status.loggedIn&&ta.push("/dashboard"),{isLoading:e,fields:n,v:c,error:t,error_msg:a,submit:o}}};a("c6ba");const U=h()(N,[["render",x],["__scopeId","data-v-60535f10"]]);var J=U,G=function(e){return Object(n["z"])("data-v-61c6f561"),e=e(),Object(n["x"])(),e},K=G((function(){return Object(n["g"])("h1",null,"Register",-1)})),z={class:"center"},B={class:"credential_input"},Q={key:0,class:"error"},W={class:"credential_input"},X={key:0,class:"error"},Y={class:"credential_input"},Z={key:0,class:"error"},ee={class:"credential_input"},te=G((function(){return Object(n["g"])("option",{value:"",disabled:"",selected:""},"Role",-1)})),ae=G((function(){return Object(n["g"])("option",{value:"teacher"},"Teacher",-1)})),ne=G((function(){return Object(n["g"])("option",{value:"student"},"Student",-1)})),re=[te,ae,ne],ce={key:0,class:"error"},oe={class:"credential_input"},ue={key:0,class:"error"},le={class:"credential_input"},ie={key:0,class:"error"},se={key:0},de=["disabled"],be=Object(n["h"])("Already have an account? "),Oe=Object(n["h"])("Login");function je(e,t,a,r,c,o){var u=Object(n["D"])("router-link");return Object(n["w"])(),Object(n["f"])(n["a"],null,[K,Object(n["g"])("div",z,[Object(n["g"])("form",{onSubmit:t[6]||(t[6]=Object(n["M"])((function(){return r.submit&&r.submit.apply(r,arguments)}),["prevent"]))},[Object(n["g"])("div",B,[Object(n["L"])(Object(n["g"])("input",{type:"text",placeholder:"First Name","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.fields.first_name=e})},null,512),[[n["I"],r.fields.first_name]]),r.v.first_name.$error?(Object(n["w"])(),Object(n["f"])("p",Q,Object(n["F"])(r.v.first_name.$errors[0].$message),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",W,[Object(n["L"])(Object(n["g"])("input",{type:"text",placeholder:"Last Name","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.fields.last_name=e})},null,512),[[n["I"],r.fields.last_name]]),r.v.last_name.$error?(Object(n["w"])(),Object(n["f"])("p",X,Object(n["F"])(r.v.last_name.$errors[0].$message),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",Y,[Object(n["L"])(Object(n["g"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.fields.email=e})},null,512),[[n["I"],r.fields.email]]),r.v.email.$error?(Object(n["w"])(),Object(n["f"])("p",Z,Object(n["F"])(r.v.email.$errors[0].$message),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",ee,[Object(n["L"])(Object(n["g"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.fields.role=e})},re,512),[[n["H"],r.fields.role]]),r.v.role.$error?(Object(n["w"])(),Object(n["f"])("p",ce,Object(n["F"])(r.v.role.$errors[0].$message),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",oe,[Object(n["L"])(Object(n["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.fields.password=e})},null,512),[[n["I"],r.fields.password]]),r.v.password.$error?(Object(n["w"])(),Object(n["f"])("p",ue,Object(n["F"])(r.v.password.$errors[0].$message),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",le,[Object(n["L"])(Object(n["g"])("input",{type:"password",placeholder:"Confirm Password","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.fields.confirm=e})},null,512),[[n["I"],r.fields.confirm]]),r.v.confirm.$error?(Object(n["w"])(),Object(n["f"])("p",ie,Object(n["F"])(r.v.confirm.$errors[0].$message),1)):Object(n["e"])("",!0)]),r.error?(Object(n["w"])(),Object(n["f"])("p",se,Object(n["F"])(r.error_msg),1)):Object(n["e"])("",!0),Object(n["g"])("button",{type:"submit",disabled:r.isLoading},"Register",8,de),Object(n["g"])("p",null,[be,Object(n["i"])(u,{to:"/login"},{default:Object(n["K"])((function(){return[Oe]})),_:1})])],32)])],64)}var fe={name:"Register",setup:function(){var e=Object(D["l"])(!1),t=Object(D["l"])(""),a=Object(D["l"])(!1),n=Object(D["l"])({first_name:"",last_name:"",email:"",role:"",password:"",confirm:""}),r=Object(D["c"])((function(){return{first_name:{required:V["a"].withMessage("First name is required",V["d"])},last_name:{required:V["a"].withMessage("Last name is required",V["d"])},email:{required:V["a"].withMessage("Email is required",V["d"])},role:{required:V["a"].withMessage("Role is required",V["d"])},password:{required:V["a"].withMessage("Password is required",V["d"]),minLength:V["a"].withMessage("Password needs to be at least 6 characters long",Object(V["c"])(6))},confirm:{required:V["a"].withMessage("Confirm password",V["d"]),sameAs:V["a"].withMessage("Password must match",Object(V["e"])(n.value.password))}}})),c=Object(T["a"])(r,n);function o(){a.value=!0,c.value.$validate(),c.value.$error||A.a.post("/auth/register",n.value).then((function(e){P.dispatch("register"),ta.push("/login"),console.log(P.state),console.log(e)})).catch((function(a){P.dispatch("register"),e.value=!0,t.value=a.response.data.message,console.log(a)})),a.value=!1}return{isLoading:a,fields:n,v:c,error:e,error_msg:t,submit:o}}};a("352b");const pe=h()(fe,[["render",je],["__scopeId","data-v-61c6f561"]]);var ge=pe;function he(e,t,a,r,c,o){return Object(n["w"])(),Object(n["f"])("h1",null,"Not Found")}var ve={name:"Not Found"};const me=h()(ve,[["render",he]]);var we=me,ye=(a("b0c0"),{class:"center_wrapper"}),ke=Object(n["g"])("h1",null,"Dashboard",-1),_e={class:"profile"};function Fe(e,t,a,r,c,o){var u=Object(n["D"])("TableCreate"),l=Object(n["D"])("TableView");return Object(n["w"])(),Object(n["f"])("div",ye,[ke,Object(n["g"])("div",_e,[Object(n["g"])("p",null,"Name: "+Object(n["F"])(r.data.name),1),Object(n["g"])("p",null,"Email: "+Object(n["F"])(r.data.email),1),Object(n["g"])("p",null,"Classes: "+Object(n["F"])(r.data.class_num),1)]),"teacher"===r.store.state.initialState.user.role?(Object(n["w"])(),Object(n["d"])(u,{key:0,load:"/users/get",onReload:r.loadProfile},null,8,["onReload"])):"student"===r.store.state.initialState.user.role?(Object(n["w"])(),Object(n["d"])(l,{key:1,load:"/users/get_student"})):Object(n["e"])("",!0)])}var Se=Object(n["g"])("th",null,"Manage",-1);function Re(e,t,a,r,c,o){var u=Object(n["D"])("Row"),l=Object(n["D"])("CreateRow");return Object(n["w"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("h2",null,Object(n["F"])(r.data.title),1),Object(n["g"])("table",null,[Object(n["g"])("thead",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(r.data.headers,(function(e){return Object(n["w"])(),Object(n["f"])("th",null,Object(n["F"])(e.name),1)})),256)),Se]),Object(n["g"])("tbody",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(r.data.contents,(function(e){return Object(n["w"])(),Object(n["d"])(u,{headers:r.data.headers,data:e,type:"edit",onFetch:r.reload},null,8,["headers","data","onFetch"])})),256)),r.data.headers?(Object(n["w"])(),Object(n["d"])(l,{key:0,headers:r.data.headers,routes:r.data.routes,onFetch:r.reload},null,8,["headers","routes","onFetch"])):Object(n["e"])("",!0)])])],64)}var Ce={key:0},$e={key:0},Ie={key:0},Le={key:1},xe=["disabled"];function De(e,t,a,r,c,o){var u=Object(n["D"])("EditRow");return Object(n["w"])(),Object(n["f"])(n["a"],null,[r.isEditing?Object(n["e"])("",!0):(Object(n["w"])(),Object(n["f"])("tr",Ce,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(a.headers,(function(e){return Object(n["w"])(),Object(n["f"])("td",{onClick:t[0]||(t[0]=function(){return r.redirect&&r.redirect.apply(r,arguments)})},[Object(n["h"])(Object(n["F"])(a.data[e.id]),1),"grade"===e.id?(Object(n["w"])(),Object(n["f"])("span",$e,"/"+Object(n["F"])(a.data.max_grade),1)):Object(n["e"])("",!0)])})),256)),"edit"===a.type?(Object(n["w"])(),Object(n["f"])("td",Ie,[Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return r.toggleEdit&&r.toggleEdit.apply(r,arguments)})},"Edit")])):Object(n["e"])("",!0),"add"===a.type?(Object(n["w"])(),Object(n["f"])("td",Le,[Object(n["g"])("button",{onClick:t[2]||(t[2]=function(){return r.remove&&r.remove.apply(r,arguments)}),disabled:r.isLoading},"Remove",8,xe)])):Object(n["e"])("",!0)])),"edit"===a.type&&r.isEditing?(Object(n["w"])(),Object(n["d"])(u,{key:1,headers:a.headers,data:a.data,onToggle:r.toggleEdit,onFetch:t[3]||(t[3]=function(e){return r.loadData()})},null,8,["headers","data","onToggle"])):Object(n["e"])("",!0)],64)}a("9911");var Te={class:"btn3"},Ve=["disabled"];function Ee(e,t,a,r,c,o){var u=Object(n["D"])("Input");return Object(n["w"])(),Object(n["f"])("tr",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(a.headers,(function(e){return Object(n["w"])(),Object(n["f"])("td",null,[Object(n["i"])(u,{def:a.data,data:e,vuelidate:r.v,modelValue:r.fields[e.id],"onUpdate:modelValue":function(t){return r.fields[e.id]=t}},null,8,["def","data","vuelidate","modelValue","onUpdate:modelValue"])])})),256)),Object(n["g"])("td",Te,[Object(n["g"])("button",{onClick:t[0]||(t[0]=function(e){return r.edit(r.fields)}),disabled:r.isLoading,class:"save"},"Save",8,Ve),Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return r.del&&r.del.apply(r,arguments)}),class:"delete"},"Delete"),Object(n["g"])("button",{onClick:t[2]||(t[2]=function(){return r.toggle&&r.toggle.apply(r,arguments)}),class:"cancel"},"Cancel")])])}var Me=a("b85c"),qe={key:0},Pe=["type","placeholder","value"],He={key:0,class:"error"},Ae={key:1,class:"error"},Ne={key:1};function Ue(e,t,a,r,c,o){return Object(n["w"])(),Object(n["f"])(n["a"],null,[a.data.isEditable?(Object(n["w"])(),Object(n["f"])("div",qe,[Object(n["g"])("input",{type:a.data.type,placeholder:a.data.name,value:a.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,40,Pe),a.vuelidate[a.data.id].$error&&a.data.required?(Object(n["w"])(),Object(n["f"])("p",He,Object(n["F"])(a.vuelidate[a.data.id].$errors[0].$message),1)):Object(n["e"])("",!0),a.vuelidate[a.data.id].$error&&"grade"===a.data.id?(Object(n["w"])(),Object(n["f"])("p",Ae,Object(n["F"])(a.vuelidate[a.data.id].$errors[0].$message),1)):Object(n["e"])("",!0)])):Object(n["e"])("",!0),a.data.isEditable?Object(n["e"])("",!0):(Object(n["w"])(),Object(n["f"])("div",Ne,[Object(n["g"])("p",null,Object(n["F"])(a.def[a.data.id]),1)]))],64)}var Je={name:"Input",props:{def:{type:Object,default:{}},data:{type:Object},vuelidate:{},modelValue:{}},setup:function(e){}};const Ge=h()(Je,[["render",Ue]]);var Ke=Ge,ze=a("92f6"),Be={name:"EditRow",components:{Input:Ke},props:{headers:{type:Object,default:[]},data:{type:Object,default:[]},getRules:{type:Function,default:function(e,t){var a=Object(D["c"])((function(){var a,n={},r=Object(Me["a"])(e);try{for(r.s();!(a=r.n()).done;){var c=a.value;c.required?n[c.id]={required:V["a"].withMessage(c.name+" is required",V["d"])}:n[c.id]={},"grade"===c.id&&(n[c.id]={required:V["a"].withMessage(c.name+"is required",V["d"]),maxValue:V["a"].withMessage("Grade cannot exceed "+t.max_grade,Object(V["b"])(t.max_grade))})}}catch(o){r.e(o)}finally{r.f()}return n}));return a}}},emits:["toggle","fetch"],setup:function(e,t){var a,n=t.emit,r=Object(D["l"])({}),c=Object(D["l"])(!1),o=Object(Me["a"])(e.headers);try{for(o.s();!(a=o.n()).done;){var u=a.value;r.value[u.id]=e.data[u.id]}}catch(f){o.e(f)}finally{o.f()}var i=Object(T["a"])(e.getRules(e.headers,e.data),r);function s(){n("toggle")}function d(e){return b.apply(this,arguments)}function b(){return b=Object(l["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c.value=!0,i.value.$validate(),i.value.$error){t.next=5;break}return t.next=5,A.a.put(e.data.routes.edit,a,{headers:Object(ze["authHeader"])()}).then((function(e){s(),n("fetch")})).catch((function(e){console.log(e)}));case 5:c.value=!1;case 6:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function O(){return j.apply(this,arguments)}function j(){return j=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c.value=!0,t.next=3,A.a.delete(e.data.routes.delete,{headers:Object(ze["authHeader"])()}).then((function(e){s(),n("fetch")})).catch((function(e){console.log(e)}));case 3:c.value=!1;case 4:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}return{fields:r,v:i,isLoading:c,toggle:s,edit:d,del:O}}};const Qe=h()(Be,[["render",Ee]]);var We=Qe,Xe={name:"Row",components:{EditRow:We},props:{headers:{type:Object,default:[]},data:{type:Object,default:[]},type:{type:String,default:""}},emits:["fetch"],setup:function(e,t){var a=t.emit,n=Object(D["l"])(!1),r=Object(D["l"])(!1);function c(){n.value=!n.value}function o(){ta.push(e.data.link)}function u(){a("fetch")}function i(){return s.apply(this,arguments)}function s(){return s=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.value=!0,t.next=3,A.a.put(e.data.routes.remove,{},{headers:Object(ze["authHeader"])()}).then((function(e){a("fetch")})).catch((function(e){console.log(e)}));case 3:r.value=!1;case 4:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}return{isEditing:n,isLoading:r,toggleEdit:c,redirect:o,loadData:u,remove:i}}};const Ye=h()(Xe,[["render",De]]);var Ze=Ye,et={key:0,class:"create_row"},tt={class:"btn2"},at=["disabled"],nt={key:1},rt=["colspan"];function ct(e,t,a,r,c,o){var u=Object(n["D"])("Input");return Object(n["w"])(),Object(n["f"])(n["a"],null,[r.isCreating?(Object(n["w"])(),Object(n["f"])("tr",et,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(a.headers,(function(e){return Object(n["w"])(),Object(n["f"])("td",null,[Object(n["i"])(u,{data:e,vuelidate:r.v,modelValue:r.fields[e.id],"onUpdate:modelValue":function(t){return r.fields[e.id]=t}},null,8,["data","vuelidate","modelValue","onUpdate:modelValue"])])})),256)),Object(n["g"])("td",tt,[Object(n["g"])("button",{onClick:t[0]||(t[0]=function(e){return r.create()}),disabled:r.isLoading,class:"confirm_create"},"Create",8,at),Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return r.toggle&&r.toggle.apply(r,arguments)}),class:"cancel_create"},"Cancel")])])):Object(n["e"])("",!0),r.isCreating?Object(n["e"])("",!0):(Object(n["w"])(),Object(n["f"])("tr",nt,[Object(n["g"])("td",{colspan:a.headers.length+1},[Object(n["g"])("button",{onClick:t[2]||(t[2]=function(){return r.toggle&&r.toggle.apply(r,arguments)})},"Create")],8,rt)]))],64)}var ot={name:"CreateRow",components:{Input:Ke},props:{headers:{type:Object,default:[]},getRules:{type:Function,default:function(e){var t=Object(D["c"])((function(){var t,a={},n=Object(Me["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.required?a[r.id]={required:V["a"].withMessage(r.name+" is required",V["d"])}:a[r.id]={}}}catch(c){n.e(c)}finally{n.f()}return a}));return t}},routes:{type:Object}},emits:["fetch"],setup:function(e,t){var a,n=t.emit,r=Object(D["l"])({}),c=Object(D["l"])(!1),o=Object(D["l"])(!1),u=Object(Me["a"])(e.headers);try{for(u.s();!(a=u.n()).done;){var i=a.value;i.isEditable&&(r.value[i.id]="")}}catch(j){u.e(j)}finally{u.f()}var s=Object(T["a"])(e.getRules(e.headers),r);function d(){c.value=!c.value,s.value.$reset();var t,a=Object(Me["a"])(e.headers);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.isEditable&&(r.value[n.id]="")}}catch(j){a.e(j)}finally{a.f()}}function b(){return O.apply(this,arguments)}function O(){return O=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o.value=!0,s.value.$validate(),s.value.$error){t.next=5;break}return t.next=5,A.a.post(e.routes.create,r.value,{headers:Object(ze["authHeader"])()}).then((function(e){d(),n("fetch")})).catch((function(e){console.log(e)}));case 5:o.value=!1;case 6:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}return{fields:r,v:s,isCreating:c,isLoading:o,toggle:d,create:b}}};const ut=h()(ot,[["render",ct]]);var lt=ut,it={name:"TableCreate",props:{load:{type:String,default:"/users/get"}},components:{Row:Ze,CreateRow:lt},emits:["reload"],setup:function(e,t){var a=t.emit,n=Object(D["l"])({});function r(){A.a.get(e.load,{headers:Object(ze["authHeader"])()}).then((function(e){n.value=e.data})).catch((function(e){ta.push("/404"),console.log(e)}))}function c(){a("reload"),r()}return r(),{data:n,loadData:r,reload:c}}};const st=h()(it,[["render",Re]]);var dt=st;function bt(e,t,a,r,c,o){var u=Object(n["D"])("Row");return Object(n["w"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("h2",null,Object(n["F"])(r.data.title),1),Object(n["g"])("table",null,[Object(n["g"])("thead",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(r.data.headers,(function(e){return Object(n["w"])(),Object(n["f"])("th",null,Object(n["F"])(e.name),1)})),256))]),Object(n["g"])("tbody",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(r.data.contents,(function(e){return Object(n["w"])(),Object(n["d"])(u,{headers:r.data.headers,data:e,type:"a"},null,8,["headers","data"])})),256))])])],64)}var Ot={name:"TableView",props:{load:{type:String}},components:{Row:Ze},setup:function(e){var t=Object(D["l"])({});function a(){A.a.get(e.load,{headers:Object(ze["authHeader"])()}).then((function(e){t.value=e.data})).catch((function(e){router.push("/404"),console.log(e)}))}function n(){emit("reload"),a()}return a(),{data:t,loadData:a,reload:n}}};const jt=h()(Ot,[["render",bt]]);var ft=jt,pt={name:"Dashboard",components:{TableCreate:dt,TableView:ft},setup:function(){var e=Object(D["l"])({});function t(){A.a.get("/users/profile",{headers:Object(ze["authHeader"])()}).then((function(t){e.value=t.data})).catch((function(e){router.push("/404"),console.log(e)}))}return t(),{store:P,data:e,loadProfile:t}}};const gt=h()(pt,[["render",Fe]]);var ht=gt,vt={class:"center_wrapper"},mt=Object(n["g"])("h1",null,"Class",-1),wt={class:"profile"},yt={key:0},kt={key:1},_t={key:2};function Ft(e,t,a,r,c,o){var u=Object(n["D"])("TableAdd"),l=Object(n["D"])("TableCreate"),i=Object(n["D"])("TableView");return Object(n["w"])(),Object(n["f"])("div",vt,[mt,Object(n["g"])("div",wt,[Object(n["g"])("p",null,"Name: "+Object(n["F"])(r.data.name),1),Object(n["g"])("p",null,"Block: "+Object(n["F"])(r.data.block),1),r.data.start_time?(Object(n["w"])(),Object(n["f"])("p",yt,"Start Time: "+Object(n["F"])(r.data.start_time),1)):Object(n["e"])("",!0),r.data.end_time?(Object(n["w"])(),Object(n["f"])("p",kt,"End Time: "+Object(n["F"])(r.data.end_time),1)):Object(n["e"])("",!0),r.data.student_num?(Object(n["w"])(),Object(n["f"])("p",_t,"Students: "+Object(n["F"])(r.data.student_num),1)):Object(n["e"])("",!0),Object(n["g"])("p",null,"Assignments: "+Object(n["F"])(r.data.task_num),1)]),"teacher"===r.store.state.initialState.user.role?(Object(n["w"])(),Object(n["d"])(u,{load:"/group/get_students/"+r.route.params.group_id,key:r.students_key,onReload:r.reloadTasks},null,8,["load","onReload"])):Object(n["e"])("",!0),"teacher"===r.store.state.initialState.user.role?(Object(n["w"])(),Object(n["d"])(l,{load:"/group/get_tasks/"+r.route.params.group_id,key:r.tasks_key,onReload:r.reloadStudents},null,8,["load","onReload"])):Object(n["e"])("",!0),"student"===r.store.state.initialState.user.role?(Object(n["w"])(),Object(n["d"])(i,{key:2,load:"/group/get_tasks_student/"+r.route.params.group_id},null,8,["load"])):Object(n["e"])("",!0)])}var St=Object(n["g"])("th",null,"Manage",-1);function Rt(e,t,a,r,c,o){var u=Object(n["D"])("AddRow"),l=Object(n["D"])("Row");return Object(n["w"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("h2",null,Object(n["F"])(r.data.title),1),Object(n["i"])(u,{options:r.data.options,onFetch:r.reload},null,8,["options","onFetch"]),Object(n["g"])("table",null,[Object(n["g"])("thead",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(r.data.headers,(function(e){return Object(n["w"])(),Object(n["f"])("th",null,Object(n["F"])(e.name),1)})),256)),St]),Object(n["g"])("tbody",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(r.data.contents,(function(e){return Object(n["w"])(),Object(n["d"])(l,{headers:r.data.headers,data:e,type:"add",onFetch:r.reload},null,8,["headers","data","onFetch"])})),256))])])],64)}var Ct={key:0},$t=["value"],It=["disabled"],Lt={key:0};function xt(e,t,a,r,c,o){return a.options&&0!==a.options.length?(Object(n["w"])(),Object(n["f"])("div",Ct,[Object(n["L"])(Object(n["g"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.field.option=e})},[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(a.options,(function(e){return Object(n["w"])(),Object(n["f"])("option",{value:e.routes.add},Object(n["F"])(e.name),9,$t)})),256))],512),[[n["H"],r.field.option]]),Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return r.add&&r.add.apply(r,arguments)}),disabled:r.isLoading,class:"addButton"},"Add Value",8,It),r.v.option.$error?(Object(n["w"])(),Object(n["f"])("p",Lt,Object(n["F"])(r.v.option.$errors[0].$message),1)):Object(n["e"])("",!0)])):Object(n["e"])("",!0)}var Dt={name:"AddRow",props:{options:{type:Object}},emits:["fetch"],setup:function(e,t){var a=t.emit,n=Object(D["l"])(!1),r=Object(D["l"])({option:null}),c=Object(D["c"])((function(){return{option:{required:V["a"].withMessage("Choose an option",V["d"])}}})),o=Object(T["a"])(c,r);function u(){return i.apply(this,arguments)}function i(){return i=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.value=!0,o.value.$validate(),o.value.$error){e.next=5;break}return e.next=5,A.a.put(r.value.option,{},{headers:Object(ze["authHeader"])()}).then((function(e){r.value.option=null,o.value.$reset(),a("fetch")})).catch((function(e){router.push("/404"),console.log(e)}));case 5:n.value=!1;case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}return{field:r,v:o,isLoading:n,add:u}}};const Tt=h()(Dt,[["render",xt]]);var Vt=Tt,Et={name:"TableAdd",components:{Row:Ze,AddRow:Vt},props:{load:{type:String}},emits:["reload"],setup:function(e,t){var a=t.emit,n=Object(D["l"])({});function r(){A.a.get(e.load,{headers:Object(ze["authHeader"])()}).then((function(e){n.value=e.data})).catch((function(e){ta.push("/404"),console.log(e)}))}function c(){a("reload"),r()}return r(),{data:n,loadData:r,reload:c}}};const Mt=h()(Et,[["render",Rt]]);var qt=Mt,Pt={name:"Group",components:{TableAdd:qt,TableCreate:dt,TableView:ft},setup:function(){var e=Object(D["l"])({}),t=Object(i["c"])(),a=Object(D["l"])(0),n=Object(D["l"])(0);function r(){"teacher"===P.state.initialState.user.role?A.a.get("/group/profile/"+t.params.group_id,{headers:Object(ze["authHeader"])()}).then((function(t){e.value=t.data})).catch((function(e){router.push("/404"),console.log(e)})):"student"===P.state.initialState.user.role&&A.a.get("/group/profile_student/"+t.params.group_id,{headers:Object(ze["authHeader"])()}).then((function(t){e.value=t.data})).catch((function(e){console.log(e)}))}function c(){a.value+=1,r()}function o(){n.value+=1,r()}return r(),{data:e,students_key:n,tasks_key:a,route:t,store:P,reloadStudents:o,reloadTasks:c,loadProfile:r}}};const Ht=h()(Pt,[["render",Ft]]);var At=Ht,Nt=(a("99af"),{class:"center_wrapper"}),Ut={class:"profile"};function Jt(e,t,a,r,c,o){var u=Object(n["D"])("TableEdit");return Object(n["w"])(),Object(n["f"])("div",Nt,[Object(n["g"])("h1",null,Object(n["F"])(r.data.name)+" in "+Object(n["F"])(r.data.group),1),Object(n["g"])("div",Ut,[Object(n["g"])("p",null,"Name: "+Object(n["F"])(r.data.name),1),Object(n["g"])("p",null,"Email: "+Object(n["F"])(r.data.email),1),Object(n["g"])("p",null,"Class: "+Object(n["F"])(r.data.group),1),Object(n["g"])("p",null,"Average Percent: "+Object(n["F"])(r.data.percent_avg),1),Object(n["g"])("p",null,"Average Letter: "+Object(n["F"])(r.data.letter_avg),1),Object(n["g"])("p",null,"Assignmnets: "+Object(n["F"])(r.data.task_num),1)]),Object(n["i"])(u,{load:"/student/get/".concat(r.route.params.group_id,"/").concat(r.route.params.student_id),onReload:r.loadProfile},null,8,["load","onReload"])])}var Gt=Object(n["g"])("th",null,"Manage",-1);function Kt(e,t,a,r,c,o){var u=Object(n["D"])("AddRow"),l=Object(n["D"])("Row");return Object(n["w"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("h2",null,Object(n["F"])(r.data.title),1),Object(n["i"])(u,{options:r.data.options,onFetch:r.reload},null,8,["options","onFetch"]),Object(n["g"])("table",null,[Object(n["g"])("thead",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(r.data.headers,(function(e){return Object(n["w"])(),Object(n["f"])("th",null,Object(n["F"])(e.name),1)})),256)),Gt]),Object(n["g"])("tbody",null,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["C"])(r.data.contents,(function(e){return Object(n["w"])(),Object(n["d"])(l,{headers:r.data.headers,data:e,type:"edit",onFetch:r.reload},null,8,["headers","data","onFetch"])})),256))])])],64)}var zt={name:"TableEdit",components:{Row:Ze,AddRow:Vt},props:{load:{type:String}},emits:["reload"],setup:function(e,t){var a=t.emit,n=Object(D["l"])({});function r(){A.a.get(e.load,{headers:Object(ze["authHeader"])()}).then((function(e){n.value=e.data})).catch((function(e){router.push("/404"),console.log(e)}))}function c(){a("reload"),r()}return r(),{data:n,loadData:r,reload:c}}};const Bt=h()(zt,[["render",Kt]]);var Qt=Bt,Wt={name:"Student",components:{TableEdit:Qt},setup:function(){var e=Object(i["c"])(),t=Object(D["l"])({});function a(){A.a.get("/student/profile/"+e.params.group_id+"/"+e.params.student_id,{headers:Object(ze["authHeader"])()}).then((function(e){t.value=e.data})).catch((function(e){router.push("/404"),console.log(e)}))}return a(),{route:e,data:t,loadProfile:a}}};const Xt=h()(Wt,[["render",Jt]]);var Yt=Xt,Zt=[{path:"/",name:"Home",component:m},{path:"/login",name:"Login",component:J},{path:"/register",name:"Register",component:ge},{path:"/dashboard",name:"Dashboard",component:ht,meta:{auth:!0}},{path:"/group/:group_id",name:"Group",component:At,meta:{auth:!0}},{path:"/student/:group_id/:student_id",name:"Student",component:Yt,meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"404",component:we,meta:{auth:!1}}],ea=Object(i["a"])({history:Object(i["b"])("/"),routes:Zt});ea.beforeEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=localStorage.getItem("user"),t.meta.auth&&!r?n("/login"):n();case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}());var ta=ea,aa={name:"Navbar",setup:function(){function e(){ta.push("/login")}function t(){ta.push("/register")}function a(){P.dispatch("logout"),ta.push("/login")}function n(){ta.go(1)}function r(){ta.go(-1)}return{store:P,login:e,register:t,logout:a,forward:n,backward:r}}};a("bd26");const na=h()(aa,[["render",u],["__scopeId","data-v-cd09684e"]]);var ra=na,ca={components:{Navbar:ra}};const oa=h()(ca,[["render",r]]);var ua=oa;a("150b");A.a.defaults.baseURL="/api",A.a.defaults.withCredentials=!0,Object(n["c"])(ua).use(P).use(ta).mount("#app")},"81a3":function(e,t,a){a("e9c4");var n=a("bc3a");t.login=function(e){return n.post("/auth/login",e).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data})).catch((function(e){console.log(e)}))},t.logout=function(){return localStorage.removeItem("user")},t.register=function(e){return n.post("/auth/register",e)},t.authHeader=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}},"92f6":function(e,t){t.authHeader=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}},a368:function(e,t,a){},bd26:function(e,t,a){"use strict";a("13a5")},c6ba:function(e,t,a){"use strict";a("f805")},f199:function(e,t,a){"use strict";a("a368")},f805:function(e,t,a){},f8ce:function(e,t,a){}});
//# sourceMappingURL=app.e2827d60.js.map